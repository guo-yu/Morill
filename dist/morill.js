define("alipay/morill/0.1.6/morill",["$","./morris.js","gallery/raphael/2.1.0/raphael","./morill.css"],function(t,i,e){var o=t("$"),n=t("./morris");t("./morill.css"),function(t){var i=function(i,e,o,n){t.ajax({url:e,type:i,data:o,cache:!1}).done(function(t){n(t)}).fail(function(){n("error")})},o=function(i){var i="#"+i;t(i).find(".morris-hover").hide(),t(i).hover(function(){t(i).find(".morris-hover").fadeIn(100)}),t(i).mouseleave(function(){t(i).find(".morris-hover").fadeOut(100)})};t.fn.Morill=function(e){var r={type:"bar",padding:10,colors:["#1ABC9C","#2ECC71","#3498DB","#9B59B6","#34495E","#E67E22"]},s={bar:"Bar",line:"Line",area:"Area",donut:"Donut"},a={donut:"formatter",line:"hoverCallback",area:"hoverCallback",bar:"hoverCallback"};e.id=this.attr("id");var h=t.extend(r,e),l=function(e){var r=function(t){var i=function(t,i){return e.tip(t,i)},o=function(t,i){return e.tip(t,i.data)};return"donut"!=t?o:i},h={element:e.id,data:e.data,padding:e.padding},l={grid:{xkey:e.x,ykeys:e.order,labels:e.labels,axesX:e.axesX,axesY:e.axesY,grid:e.backGrid,gridLineColor:e.gridLineColor,gridStrokeWidth:e.gridStrokeWidth,gridTextColor:e.gridTextColor,gridTextSize:e.gridTextSize,hideHover:e.hideHover,postUnits:e.yUnit,preUnits:e.yPreUnit,ymax:e.yMax,ymin:e.yMin,dateFormat:e.dateFormat,goals:e.goals,goalStrokeWidth:e.goalStrokeWidth,goalLineColors:e.goalLineColors,events:e.events,eventStrokeWidth:e.eventStrokeWidth,eventLineColors:e.eventLineColors,xLabelMargin:e.xStep,numLines:e.yLines,parseTime:e.parseTime},donut:{backgroundColor:e.backgroundColor,labelColor:e.labelColors,colors:e.colors},bar:{stacked:e.stacked,barColors:e.colors,barSizeRatio:e.barSizeRatio,barGap:e.barGap,barTag:e.barTag,barTagHeight:e.barTagHeight},line:{smooth:e.smooth,lineColors:e.colors,lineWidth:e.lineWidth,pointSize:e.pointSize,pointWidths:e.pointWidths,pointStrokeColors:e.pointStrokeColors,pointFillColors:e.pointFillColors},area:{lineColors:e.colors,lineWidth:e.lineWidth,pointSize:e.pointSize,pointWidths:e.pointWidths,pointStrokeColors:e.pointStrokeColors,pointFillColors:e.pointFillColors}};("bar"==e.type||"line"==e.type||"area"==e.type)&&t.each(l.grid,function(t,i){h[t]=i}),t.each(l[e.type],function(t,i){h[t]=i}),"function"==typeof e.tip&&e.tip!==void 0&&(h[a[e.type]]=r(e.type));var p=n[s[e.type]](h);if(e.ajax===!0){var u=e.ajaxInfo.url,d=e.ajaxInfo.method,c=e.ajaxInfo.data,f=e.ajaxInfo.errorEvent,g=e.ajaxInfo.successEvent,m=function(){i(d,u,c,function(t){"error"===t?f(t):(g(p,t),window[e.id]!==void 0&&clearTimeout(window[e.id]),window[e.id]=setTimeout(m,1e3*e.ajaxInfo.delay))})};setTimeout(m,1e3*e.ajaxInfo.delay)}return o(e.id),p};return l(h)},e.exports=t}(o,n)}),define("alipay/morill/0.1.6/morris",["$","gallery/raphael/2.1.0/raphael"],function(t,i,e){var o=t("$"),n=t("gallery/raphael/2.1.0/raphael");(function(){var t,i,e,r,s=[].slice,a={}.hasOwnProperty,h=function(t,i){function e(){this.constructor=t}for(var o in i)a.call(i,o)&&(t[o]=i[o]);return e.prototype=i.prototype,t.prototype=new e,t.__super__=i.prototype,t},l=function(t,i){return function(){return t.apply(i,arguments)}},p=[].indexOf||function(t){for(var i=0,e=this.length;e>i;i++)if(i in this&&this[i]===t)return i;return-1};i=window.Morris={},t=o,i.EventEmitter=function(){function t(){}return t.prototype.on=function(t,i){return null==this.handlers&&(this.handlers={}),null==this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(i)},t.prototype.fire=function(){var t,i,e,o,n,r,a;if(e=arguments[0],t=arguments.length>=2?s.call(arguments,1):[],null!=this.handlers&&null!=this.handlers[e]){for(r=this.handlers[e],a=[],o=0,n=r.length;n>o;o++)i=r[o],a.push(i.apply(null,t));return a}},t}(),i.commas=function(t){var i,e,o,n;return null!=t?(o=0>t?"-":"",i=Math.abs(t),e=Math.floor(i).toFixed(0),o+=e.replace(/(?=(?:\d{3})+$)(?!^)/g,","),n=""+i,n.length>e.length&&(o+=n.slice(e.length)),o):"-"},i.pad2=function(t){return(10>t?"0":"")+t},i.Grid=function(e){function o(i){var e=this;if(this.el="string"==typeof i.element?t(document.getElementById(i.element)):t(i.element),null==this.el||0===this.el.length)throw Error("Graph container element not found");"static"===this.el.css("position")&&this.el.css("position","relative"),this.options=t.extend({},this.gridDefaults,this.defaults||{},i),"string"==typeof this.options.units&&(this.options.postUnits=i.units),this.raphael=new n(this.el[0]),this.elementWidth=null,this.elementHeight=null,this.dirty=!1,this.init&&this.init(),this.setData(this.options.data),this.el.bind("mousemove",function(t){var i;return i=e.el.offset(),e.fire("hovermove",t.pageX-i.left,t.pageY-i.top)}),this.el.bind("mouseout",function(){return e.fire("hoverout")}),this.el.bind("touchstart touchmove touchend",function(t){var i,o;return o=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],i=e.el.offset(),e.fire("hover",o.pageX-i.left,o.pageY-i.top),o}),this.postInit&&this.postInit()}return h(o,e),o.prototype.gridDefaults={dateFormat:null,axes:!0,axesY:!0,axesX:!0,grid:!0,gridLineColor:"#aaa",gridStrokeWidth:.5,gridTextColor:"#888",gridTextSize:12,hideHover:!1,yLabelFormat:null,numLines:5,padding:25,parseTime:!0,postUnits:"",preUnits:"",ymax:"auto",ymin:"auto 0",goals:[],goalStrokeWidth:1,goalLineColors:["#666633","#999966","#cc6666","#663333"],events:[],eventStrokeWidth:1,eventLineColors:["#005a04","#ccffbb","#3a5f0b","#005502"]},o.prototype.setData=function(t,e){var o,n,r,s,a,h,l,p,u,d,c,f;return null==e&&(e=!0),null==t||0===t.length?(this.data=[],this.raphael.clear(),null!=this.hover&&this.hover.hide(),void 0):(d=this.cumulative?0:null,c=this.cumulative?0:null,this.options.goals.length>0&&(a=Math.min.apply(null,this.options.goals),s=Math.max.apply(null,this.options.goals),c=null!=c?Math.min(c,a):a,d=null!=d?Math.max(d,s):s),this.data=function(){var e,o,s;for(s=[],r=e=0,o=t.length;o>e;r=++e)l=t[r],h={},h.label=l[this.options.xkey],this.options.parseTime?(h.x=i.parseDate(h.label),this.options.dateFormat?h.label=this.options.dateFormat(h.x):"number"==typeof h.label&&(h.label=""+new Date(h.label))):h.x=r,p=0,h.y=function(){var t,i,e,o;for(e=this.options.ykeys,o=[],n=t=0,i=e.length;i>t;n=++t)u=e[n],f=l[u],"string"==typeof f&&(f=parseFloat(f)),null!=f&&"number"!=typeof f&&(f=null),null!=f&&(this.cumulative?p+=f:null!=d?(d=Math.max(f,d),c=Math.min(f,c)):d=c=f),this.cumulative&&null!=p&&(d=Math.max(p,d),c=Math.min(p,c)),o.push(f);return o}.call(this),s.push(h);return s}.call(this),this.options.parseTime&&(this.data=this.data.sort(function(t,i){return(t.x>i.x)-(i.x>t.x)})),this.xmin=this.data[0].x,this.xmax=this.data[this.data.length-1].x,this.events=[],this.options.parseTime&&this.options.events.length>0&&(this.events=function(){var t,e,n,r;for(n=this.options.events,r=[],t=0,e=n.length;e>t;t++)o=n[t],r.push(i.parseDate(o));return r}.call(this),this.xmax=Math.max(this.xmax,Math.max.apply(null,this.events)),this.xmin=Math.min(this.xmin,Math.min.apply(null,this.events))),this.xmin===this.xmax&&(this.xmin-=1,this.xmax+=1),this.ymin=this.yboundary("min",c),this.ymax=this.yboundary("max",d),this.ymin===this.ymax&&(c&&(this.ymin-=1),this.ymax+=1),this.yInterval=(this.ymax-this.ymin)/(this.options.numLines-1),this.precision=this.yInterval>0&&1>this.yInterval?-Math.floor(Math.log(this.yInterval)/Math.log(10)):0,this.dirty=!0,e?this.redraw():void 0)},o.prototype.yboundary=function(t,i){var e,o;return e=this.options["y"+t],"string"==typeof e?"auto"===e.slice(0,4)?e.length>5?(o=parseInt(e.slice(5),10),null==i?o:Math[t](i,o)):null!=i?i:0:parseInt(e,10):e},o.prototype._calc=function(){var t,i,e;return e=this.el.width(),t=this.el.height(),(this.elementWidth!==e||this.elementHeight!==t||this.dirty)&&(this.elementWidth=e,this.elementHeight=t,this.dirty=!1,this.left=this.options.padding,this.right=this.elementWidth-this.options.padding,this.top=this.options.padding,this.bottom=this.elementHeight-this.options.padding,0!=this.options.axesY?(i=Math.max(this.measureText(this.yAxisFormat(this.ymin),this.options.gridTextSize).width,this.measureText(this.yAxisFormat(this.ymax),this.options.gridTextSize).width),this.left+=i,this.bottom-=1.5*this.options.gridTextSize):this.bottom-=1.5*this.options.gridTextSize,this.width=this.right-this.left,this.height=this.bottom-this.top,this.dx=this.width/(this.xmax-this.xmin),this.dy=this.height/(this.ymax-this.ymin),this.calc)?this.calc():void 0},o.prototype.transY=function(t){return this.bottom-(t-this.ymin)*this.dy},o.prototype.transX=function(t){return 1===this.data.length?(this.left+this.right)/2:this.left+(t-this.xmin)*this.dx},o.prototype.redraw=function(){return this.raphael.clear(),this._calc(),this.drawGrid(),this.drawGoals(),this.drawEvents(),this.draw?this.draw():void 0},o.prototype.measureText=function(t,i){var e,o;return null==i&&(i=12),o=this.raphael.text(100,100,t).attr("font-size",i),e=o.getBBox(),o.remove(),e},o.prototype.yAxisFormat=function(t){return this.yLabelFormat(t)},o.prototype.yLabelFormat=function(t){return"function"==typeof this.options.yLabelFormat?this.options.yLabelFormat(t):""+this.options.preUnits+i.commas(t)+this.options.postUnits},o.prototype.updateHover=function(t,i){var e,o;return e=this.hitTest(t,i),null!=e?(o=this.hover).update.apply(o,e):void 0},o.prototype.drawGrid=function(){var t,i,e,o,n,r,s,a;if(this.options.grid!==!1||this.options.axes!==!1){for(t=this.ymin,i=this.ymax,a=[],e=r=t,s=this.yInterval;i>=t?i>=r:r>=i;e=r+=s)o=parseFloat(e.toFixed(this.precision)),n=this.transY(o),this.options.axesY!==!1&&this.drawYAxisLabel(this.left-this.options.padding/2,n,this.yAxisFormat(o)),this.options.grid?a.push(this.drawGridLine("M"+this.left+","+n+"H"+(this.left+this.width))):a.push(void 0);return a}},o.prototype.drawGoals=function(){var t,i,e,o,n,r,s;for(r=this.options.goals,s=[],e=o=0,n=r.length;n>o;e=++o)i=r[e],t=this.options.goalLineColors[e%this.options.goalLineColors.length],s.push(this.drawGoal(i,t));return s},o.prototype.drawEvents=function(){var t,i,e,o,n,r,s;for(r=this.events,s=[],e=o=0,n=r.length;n>o;e=++o)i=r[e],t=this.options.eventLineColors[e%this.options.eventLineColors.length],s.push(this.drawEvent(i,t));return s},o.prototype.drawGoal=function(t,i){return this.raphael.path("M"+this.left+","+this.transY(t)+"H"+this.right).attr("stroke",i).attr("stroke-width",this.options.goalStrokeWidth)},o.prototype.drawEvent=function(t,i){return this.raphael.path("M"+this.transX(t)+","+this.bottom+"V"+this.top).attr("stroke",i).attr("stroke-width",this.options.eventStrokeWidth)},o.prototype.drawYAxisLabel=function(t,i,e){return this.raphael.text(t,i,e).attr("font-size",this.options.gridTextSize).attr("fill",this.options.gridTextColor).attr("text-anchor","end")},o.prototype.drawGridLine=function(t){return this.raphael.path(t).attr("stroke",this.options.gridLineColor).attr("stroke-width",this.options.gridStrokeWidth)},o}(i.EventEmitter),i.parseDate=function(t){var i,e,o,n,r,s,a,h,l,p,u;return"number"==typeof t?t:(e=t.match(/^(\d+) Q(\d)$/),n=t.match(/^(\d+)-(\d+)$/),r=t.match(/^(\d+)-(\d+)-(\d+)$/),a=t.match(/^(\d+) W(\d+)$/),h=t.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+)(Z|([+-])(\d\d):?(\d\d))?$/),l=t.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+):(\d+(\.\d+)?)(Z|([+-])(\d\d):?(\d\d))?$/),e?new Date(parseInt(e[1],10),3*parseInt(e[2],10)-1,1).getTime():n?new Date(parseInt(n[1],10),parseInt(n[2],10)-1,1).getTime():r?new Date(parseInt(r[1],10),parseInt(r[2],10)-1,parseInt(r[3],10)).getTime():a?(p=new Date(parseInt(a[1],10),0,1),4!==p.getDay()&&p.setMonth(0,1+(4-p.getDay()+7)%7),p.getTime()+6048e5*parseInt(a[2],10)):h?h[6]?(s=0,"Z"!==h[6]&&(s=60*parseInt(h[8],10)+parseInt(h[9],10),"+"===h[7]&&(s=0-s)),Date.UTC(parseInt(h[1],10),parseInt(h[2],10)-1,parseInt(h[3],10),parseInt(h[4],10),parseInt(h[5],10)+s)):new Date(parseInt(h[1],10),parseInt(h[2],10)-1,parseInt(h[3],10),parseInt(h[4],10),parseInt(h[5],10)).getTime():l?(u=parseFloat(l[6]),i=Math.floor(u),o=Math.round(1e3*(u-i)),l[8]?(s=0,"Z"!==l[8]&&(s=60*parseInt(l[10],10)+parseInt(l[11],10),"+"===l[9]&&(s=0-s)),Date.UTC(parseInt(l[1],10),parseInt(l[2],10)-1,parseInt(l[3],10),parseInt(l[4],10),parseInt(l[5],10)+s,i,o)):new Date(parseInt(l[1],10),parseInt(l[2],10)-1,parseInt(l[3],10),parseInt(l[4],10),parseInt(l[5],10),i,o).getTime()):new Date(parseInt(t,10),0,1).getTime())},i.Hover=function(){function e(e){null==e&&(e={}),this.options=t.extend({},i.Hover.defaults,e),this.el=t("<div class='"+this.options["class"]+"'></div>"),this.el.hide(),this.options.parent.append(this.el)}return e.defaults={"class":"morris-hover morris-default-style"},e.prototype.update=function(t,i,e){return this.html(t),this.show(),this.moveTo(i,e)},e.prototype.html=function(t){return this.el.html(t)},e.prototype.moveTo=function(t,i){var e,o,n,r,s,a;return s=this.options.parent.innerWidth(),r=this.options.parent.innerHeight(),o=this.el.outerWidth(),e=this.el.outerHeight(),n=Math.min(Math.max(0,t-o/2),s-o),null!=i?(a=i-e-10,0>a&&(a=i+10,a+e>r&&(a=r/2-e/2))):a=r/2-e/2,this.el.css({left:n+"px",top:a+"px"})},e.prototype.show=function(){return this.el.show()},e.prototype.hide=function(){return this.el.hide()},e}(),i.Line=function(t){function e(t){return this.hilight=l(this.hilight,this),this.onHoverOut=l(this.onHoverOut,this),this.onHoverMove=l(this.onHoverMove,this),this instanceof i.Line?(e.__super__.constructor.call(this,t),void 0):new i.Line(t)}return h(e,t),e.prototype.init=function(){return this.pointGrow=n.animation({r:this.options.pointSize+3},25,"linear"),this.pointShrink=n.animation({r:this.options.pointSize},25,"linear"),"always"!==this.options.hideHover?(this.hover=new i.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut)):void 0},e.prototype.defaults={lineWidth:3,pointSize:4,lineColors:["#0b62a4","#7A92A3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],pointWidths:[1],pointStrokeColors:["#ffffff"],pointFillColors:[],smooth:!0,xLabels:"auto",xLabelFormat:null,xLabelMargin:50,continuousLine:!0,hideHover:!1},e.prototype.calc=function(){return this.calcPoints(),this.generatePaths()},e.prototype.calcPoints=function(){var t,i,e,o,n,r;for(n=this.data,r=[],e=0,o=n.length;o>e;e++)t=n[e],t._x=this.transX(t.x),t._y=function(){var e,o,n,r;for(n=t.y,r=[],e=0,o=n.length;o>e;e++)i=n[e],null!=i?r.push(this.transY(i)):r.push(i);return r}.call(this),r.push(t._ymax=Math.min.apply(null,[this.bottom].concat(function(){var e,o,n,r;for(n=t._y,r=[],e=0,o=n.length;o>e;e++)i=n[e],null!=i&&r.push(i);return r}())));return r},e.prototype.hitTest=function(t){var i,e,o,n,r;if(0===this.data.length)return null;for(r=this.data.slice(1),i=o=0,n=r.length;n>o&&(e=r[i],!((e._x+this.data[i]._x)/2>t));i=++o);return i},e.prototype.onHoverMove=function(t,i){var e;return e=this.hitTest(t,i),this.displayHoverForRow(e)},e.prototype.onHoverOut=function(){return"auto"===this.options.hideHover?this.displayHoverForRow(null):void 0},e.prototype.displayHoverForRow=function(t){var i;return null!=t?((i=this.hover).update.apply(i,this.hoverContentForRow(t)),this.hilight(t)):(this.hover.hide(),this.hilight())},e.prototype.hoverContentForRow=function(t){var i,e,o,n,r,s,a;if(o=this.data[t],"function"==typeof this.options.hoverCallback)i=this.options.hoverCallback(t,this.options);else for(i="<div class='morris-hover-row-label'>"+o.label+"</div>",a=o.y,e=r=0,s=a.length;s>r;e=++r)n=a[e],i+="<div class='morris-hover-point' style='color: "+this.colorFor(o,e,"label")+"'>\n  "+this.options.labels[e]+":\n  "+this.yLabelFormat(n)+"\n</div>";return[i,o._x,o._ymax]},e.prototype.generatePaths=function(){var t,e,o,n,r;return this.paths=function(){var s,a,h,l;for(l=[],o=s=0,a=this.options.ykeys.length;a>=0?a>s:s>a;o=a>=0?++s:--s)r=this.options.smooth===!0||(h=this.options.ykeys[o],p.call(this.options.smooth,h)>=0),e=function(){var t,i,e,r;for(e=this.data,r=[],t=0,i=e.length;i>t;t++)n=e[t],void 0!==n._y[o]&&r.push({x:n._x,y:n._y[o]});return r}.call(this),this.options.continuousLine&&(e=function(){var i,o,n;for(n=[],i=0,o=e.length;o>i;i++)t=e[i],null!==t.y&&n.push(t);return n}()),e.length>1?l.push(i.Line.createPath(e,r,this.bottom)):l.push(null);return l}.call(this)},e.prototype.draw=function(){return 0!=this.options.axesX&&this.drawXAxis(),this.drawSeries(),this.options.hideHover===!1?this.displayHoverForRow(this.data.length-1):void 0},e.prototype.drawXAxis=function(){var t,e,o,n,r,s,a,h,l,p=this;for(s=this.bottom+1.25*this.options.gridTextSize,n=null,t=function(t,i){var e,o;return e=p.drawXAxisLabel(p.transX(i),s,t),o=e.getBBox(),(null==n||n>=o.x+o.width)&&o.x>=0&&o.x+o.width<p.el.width()?n=o.x-p.options.xLabelMargin:e.remove()},o=this.options.parseTime?1===this.data.length&&"auto"===this.options.xLabels?[[this.data[0].label,this.data[0].x]]:i.labelSeries(this.xmin,this.xmax,this.width,this.options.xLabels,this.options.xLabelFormat):function(){var t,i,e,o;for(e=this.data,o=[],t=0,i=e.length;i>t;t++)r=e[t],o.push([r.label,r.x]);return o}.call(this),o.reverse(),l=[],a=0,h=o.length;h>a;a++)e=o[a],l.push(t(e[0],e[1]));return l},e.prototype.drawSeries=function(){var t,i,e,o,n,r,s,a,h;for(i=n=s=this.options.ykeys.length-1;0>=s?0>=n:n>=0;i=0>=s?++n:--n)e=this.paths[i],null!==e&&this.drawLinePath(e,this.colorFor(o,i,"line"));for(this.seriesPoints=function(){var t,e,o;for(o=[],i=t=0,e=this.options.ykeys.length;e>=0?e>t:t>e;i=e>=0?++t:--t)o.push([]);return o}.call(this),h=[],i=r=a=this.options.ykeys.length-1;0>=a?0>=r:r>=0;i=0>=a?++r:--r)h.push(function(){var e,n,r,s;for(r=this.data,s=[],e=0,n=r.length;n>e;e++)o=r[e],t=null!=o._y[i]?this.drawLinePoint(o._x,o._y[i],this.options.pointSize,this.colorFor(o,i,"point"),i):null,s.push(this.seriesPoints[i].push(t));return s}.call(this));return h},e.createPath=function(t,e,o){var n,r,s,a,h,l,p,u,d,c,f,g,m,y;for(p="",e&&(s=i.Line.gradients(t)),u={y:null},a=m=0,y=t.length;y>m;a=++m)n=t[a],null!=n.y&&(null!=u.y?e?(r=s[a],l=s[a-1],h=(n.x-u.x)/4,d=u.x+h,f=Math.min(o,u.y+h*l),c=n.x-h,g=Math.min(o,n.y-h*r),p+="C"+d+","+f+","+c+","+g+","+n.x+","+n.y):p+="L"+n.x+","+n.y:e&&null==s[a]||(p+="M"+n.x+","+n.y)),u=n;return p},e.gradients=function(t){var i,e,o,n,r,s,a,h;for(e=function(t,i){return(t.y-i.y)/(t.x-i.x)},h=[],o=s=0,a=t.length;a>s;o=++s)i=t[o],null!=i.y?(n=t[o+1]||{y:null},r=t[o-1]||{y:null},null!=r.y&&null!=n.y?h.push(e(r,n)):null!=r.y?h.push(e(r,i)):null!=n.y?h.push(e(i,n)):h.push(null)):h.push(null);return h},e.prototype.hilight=function(t){var i,e,o,n,r;if(null!==this.prevHilight&&this.prevHilight!==t)for(i=e=0,n=this.seriesPoints.length-1;n>=0?n>=e:e>=n;i=n>=0?++e:--e)this.seriesPoints[i][this.prevHilight]&&this.seriesPoints[i][this.prevHilight].animate(this.pointShrink);if(null!==t&&this.prevHilight!==t)for(i=o=0,r=this.seriesPoints.length-1;r>=0?r>=o:o>=r;i=r>=0?++o:--o)this.seriesPoints[i][t]&&this.seriesPoints[i][t].animate(this.pointGrow);return this.prevHilight=t},e.prototype.colorFor=function(t,i,e){return"function"==typeof this.options.lineColors?this.options.lineColors.call(this,t,i,e):"point"===e?this.options.pointFillColors[i%this.options.pointFillColors.length]||this.options.lineColors[i%this.options.lineColors.length]:this.options.lineColors[i%this.options.lineColors.length]},e.prototype.drawXAxisLabel=function(t,i,e){return this.raphael.text(t,i,e).attr("font-size",this.options.gridTextSize).attr("fill",this.options.gridTextColor)},e.prototype.drawLinePath=function(t,i){return this.raphael.path(t).attr("stroke",i).attr("stroke-width",this.options.lineWidth)},e.prototype.drawLinePoint=function(t,i,e,o,n){return this.raphael.circle(t,i,e).attr("fill",o).attr("stroke-width",this.strokeWidthForSeries(n)).attr("stroke",this.strokeForSeries(n))},e.prototype.strokeWidthForSeries=function(t){return this.options.pointWidths[t%this.options.pointWidths.length]},e.prototype.strokeForSeries=function(t){return this.options.pointStrokeColors[t%this.options.pointStrokeColors.length]},e}(i.Grid),i.labelSeries=function(e,o,n,r,s){var a,h,l,p,u,d,c,f,g,m,y;if(l=200*(o-e)/n,h=new Date(e),c=i.LABEL_SPECS[r],void 0===c)for(y=i.AUTO_LABEL_ORDER,g=0,m=y.length;m>g;g++)if(p=y[g],d=i.LABEL_SPECS[p],l>=d.span){c=d;break}for(void 0===c&&(c=i.LABEL_SPECS.second),s&&(c=t.extend({},c,{fmt:s})),a=c.start(h),u=[];o>=(f=a.getTime());)f>=e&&u.push([c.fmt(a),f]),c.incr(a);return u},e=function(t){return{span:1e3*60*t,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours())},fmt:function(t){return""+i.pad2(t.getHours())+":"+i.pad2(t.getMinutes())},incr:function(i){return i.setMinutes(i.getMinutes()+t)}}},r=function(t){return{span:1e3*t,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes())},fmt:function(t){return""+i.pad2(t.getHours())+":"+i.pad2(t.getMinutes())+":"+i.pad2(t.getSeconds())},incr:function(i){return i.setSeconds(i.getSeconds()+t)}}},i.LABEL_SPECS={decade:{span:1728e8,start:function(t){return new Date(t.getFullYear()-t.getFullYear()%10,0,1)},fmt:function(t){return""+t.getFullYear()},incr:function(t){return t.setFullYear(t.getFullYear()+10)}},year:{span:1728e7,start:function(t){return new Date(t.getFullYear(),0,1)},fmt:function(t){return""+t.getFullYear()},incr:function(t){return t.setFullYear(t.getFullYear()+1)}},month:{span:24192e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),1)},fmt:function(t){return""+t.getFullYear()+"-"+i.pad2(t.getMonth()+1)},incr:function(t){return t.setMonth(t.getMonth()+1)}},day:{span:864e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},fmt:function(t){return""+t.getFullYear()+"-"+i.pad2(t.getMonth()+1)+"-"+i.pad2(t.getDate())},incr:function(t){return t.setDate(t.getDate()+1)}},hour:e(60),"30min":e(30),"15min":e(15),"10min":e(10),"5min":e(5),minute:e(1),"30sec":r(30),"15sec":r(15),"10sec":r(10),"5sec":r(5),second:r(1)},i.AUTO_LABEL_ORDER=["decade","year","month","day","hour","30min","15min","10min","5min","minute","30sec","15sec","10sec","5sec","second"],i.Area=function(t){function e(t){return this instanceof i.Area?(this.cumulative=!0,e.__super__.constructor.call(this,t),void 0):new i.Area(t)}return h(e,t),e.prototype.calcPoints=function(){var t,i,e,o,n,r,s;for(r=this.data,s=[],o=0,n=r.length;n>o;o++)t=r[o],t._x=this.transX(t.x),i=0,t._y=function(){var o,n,r,s;for(r=t.y,s=[],o=0,n=r.length;n>o;o++)e=r[o],i+=e||0,s.push(this.transY(i));return s}.call(this),s.push(t._ymax=t._y[t._y.length-1]);return s},e.prototype.drawSeries=function(){var t,i,o,n;for(t=o=n=this.options.ykeys.length-1;0>=n?0>=o:o>=0;t=0>=n?++o:--o)i=this.paths[t],null!==i&&(i+="L"+this.transX(this.xmax)+","+this.bottom+"L"+this.transX(this.xmin)+","+this.bottom+"Z",this.drawFilledPath(i,this.fillForSeries(t)));return e.__super__.drawSeries.call(this)},e.prototype.fillForSeries=function(t){var i;return i=n.rgb2hsl(this.colorFor(this.data[t],t,"line")),n.hsl(i.h,Math.min(255,.75*i.s),Math.min(255,1.25*i.l))},e.prototype.drawFilledPath=function(t,i){return this.raphael.path(t).attr("fill",i).attr("stroke-width",0)},e}(i.Line),i.Bar=function(e){function o(e){return this.onHoverOut=l(this.onHoverOut,this),this.onHoverMove=l(this.onHoverMove,this),this instanceof i.Bar?(o.__super__.constructor.call(this,t.extend({},e,{parseTime:!1})),void 0):new i.Bar(e)}return h(o,e),o.prototype.init=function(){return this.cumulative=this.options.stacked,"always"!==this.options.hideHover?(this.hover=new i.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut)):void 0},o.prototype.defaults={barSizeRatio:.75,barGap:3,barColors:["#0b62a4","#7a92a3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],xLabelMargin:50},o.prototype.calc=function(){var t;return this.calcBars(),this.options.hideHover===!1?(t=this.hover).update.apply(t,this.hoverContentForRow(this.data.length-1)):void 0},o.prototype.calcBars=function(){var t,i,e,o,n,r,s;for(r=this.data,s=[],t=o=0,n=r.length;n>o;t=++o)i=r[t],i._x=this.left+this.width*(t+.5)/this.data.length,s.push(i._y=function(){var t,o,n,r;for(n=i.y,r=[],t=0,o=n.length;o>t;t++)e=n[t],null!=e?r.push(this.transY(e)):r.push(null);return r}.call(this));return s},o.prototype.draw=function(){return 0!=this.options.axesX&&this.drawXAxis(),this.drawSeries()},o.prototype.drawXAxis=function(){var t,i,e,o,n,r,s,a,h;for(r=this.bottom+1.25*this.options.gridTextSize,o=null,h=[],t=s=0,a=this.data.length;a>=0?a>s:s>a;t=a>=0?++s:--s)n=this.data[this.data.length-1-t],i=this.drawXAxisLabel(n._x,r,n.label),e=i.getBBox(),(null==o||o>=e.x+e.width)&&e.x>=0&&e.x+e.width<this.el.width()?h.push(o=e.x-this.options.xLabelMargin):h.push(i.remove());return h},o.prototype.drawSeries=function(){var t,i,e,o,n,r,s,a,h,l,p,u,d,c;return e=this.width/this.options.data.length,a=null!=this.options.stacked?1:this.options.ykeys.length,t=(e*this.options.barSizeRatio-this.options.barGap*(a-1))/a,s=e*(1-this.options.barSizeRatio)/2,c=0>=this.ymin&&this.ymax>=0?this.transY(0):null,this.bars=function(){var a,f,g,m;for(g=this.data,m=[],o=a=0,f=g.length;f>a;o=++a)h=g[o],n=0,m.push(function(){var a,f,g,m;for(g=h._y,m=[],l=a=0,f=g.length;f>a;l=++a)d=g[l],null!==d?(c?(u=Math.min(d,c),i=Math.max(d,c)):(u=d,i=this.bottom),r=this.left+o*e+s,this.options.stacked||(r+=l*(t+this.options.barGap)),p=i-u,this.options.stacked&&(u-=n),null!=this.options.barTag&&this.options.barTag==l&&0!=p&&(p=this.options.barTagHeight),this.drawBar(r,u,t,p,this.colorFor(h,l,"bar")),m.push(n+=p)):m.push(null);return m}.call(this));return m}.call(this)},o.prototype.colorFor=function(t,i,e){var o,n;return"function"==typeof this.options.barColors?(o={x:t.x,y:t.y[i],label:t.label},n={index:i,key:this.options.ykeys[i],label:this.options.labels[i]},this.options.barColors.call(this,o,n,e)):this.options.barColors[i%this.options.barColors.length]},o.prototype.hitTest=function(t){return 0===this.data.length?null:(t=Math.max(Math.min(t,this.right),this.left),Math.min(this.data.length-1,Math.floor((t-this.left)/(this.width/this.data.length))))},o.prototype.onHoverMove=function(t,i){var e,o;return e=this.hitTest(t,i),(o=this.hover).update.apply(o,this.hoverContentForRow(e))},o.prototype.onHoverOut=function(){return"auto"===this.options.hideHover?this.hover.hide():void 0},o.prototype.hoverContentForRow=function(t){var i,e,o,n,r,s,a,h;if("function"==typeof this.options.hoverCallback)i=this.options.hoverCallback(t,this.options);else for(o=this.data[t],i="<div class='morris-hover-row-label'>"+o.label+"</div>",h=o.y,e=s=0,a=h.length;a>s;e=++s)r=h[e],i+="<div class='morris-hover-point' style='color: "+this.colorFor(o,e,"label")+"'>\n  "+this.options.labels[e]+":\n  "+this.yLabelFormat(r)+"\n</div>";return n=this.left+(t+.5)*this.width/this.data.length,[i,n]},o.prototype.drawXAxisLabel=function(t,i,e){var o;return o=this.raphael.text(t,i,e).attr("font-size",this.options.gridTextSize).attr("fill",this.options.gridTextColor)},o.prototype.drawBar=function(t,i,e,o,n){return this.raphael.rect(t,i,e,o).attr("fill",n).attr("stroke-width",0)},o}(i.Grid),i.Donut=function(){function e(e){if(this.select=l(this.select,this),!(this instanceof i.Donut))return new i.Donut(e);if(this.el="string"==typeof e.element?t(document.getElementById(e.element)):t(e.element),this.options=t.extend({},this.defaults,e),null===this.el||0===this.el.length)throw Error("Graph placeholder not found.");void 0!==e.data&&0!==e.data.length&&(this.data=e.data,this.redraw())}return e.prototype.defaults={colors:["#0B62A4","#3980B5","#679DC6","#95BBD7","#B0CCE1","#095791","#095085","#083E67","#052C48","#042135"],backgroundColor:"#FFFFFF",labelColor:"#000000",formatter:i.commas},e.prototype.redraw=function(){var t,e,o,r,s,a,h,l,p,u,d,c,f,g,m,y,v,x,b,w,C,M,S;for(this.el.empty(),this.raphael=new n(this.el[0]),e=this.el.width()/2,o=this.el.height()/2,c=(Math.min(e,o)-10)/3,d=0,w=this.data,g=0,v=w.length;v>g;g++)f=w[g],d+=f.value;for(l=5/(2*c),t=1.9999*Math.PI-l*this.data.length,a=0,s=0,this.segments=[],C=this.data,m=0,x=C.length;x>m;m++)r=C[m],p=a+l+t*(r.value/d),u=new i.DonutSegment(e,o,2*c,c,a,p,this.options.colors[s%this.options.colors.length],this.options.backgroundColor,r,this.raphael),u.render(),this.segments.push(u),u.on("hover",this.select),a=p,s+=1;for(this.text1=this.drawEmptyDonutLabel(e,o-10,this.options.labelColor,15,800),this.text2=this.drawEmptyDonutLabel(e,o+10,this.options.labelColor,14),h=Math.max.apply(null,function(){var t,i,e,o;for(e=this.data,o=[],t=0,i=e.length;i>t;t++)r=e[t],o.push(r.value);return o}.call(this)),s=0,M=this.data,S=[],y=0,b=M.length;b>y;y++){if(r=M[y],r.value===h){this.select(s);break}S.push(s+=1)}return S},e.prototype.select=function(t){var i,e,o,n,r;for(r=this.segments,o=0,n=r.length;n>o;o++)i=r[o],i.deselect();return e="number"==typeof t?this.segments[t]:t,e.select(),this.setLabels(e.data.label,this.options.formatter(e.data.value,e.data))},e.prototype.setLabels=function(t,i){var e,o,n,r,s,a,h,l;return e=2*(Math.min(this.el.width()/2,this.el.height()/2)-10)/3,r=1.8*e,n=e/2,o=e/3,this.text1.attr({text:t,transform:""}),s=this.text1.getBBox(),a=Math.min(r/s.width,n/s.height),this.text1.attr({transform:"S"+a+","+a+","+(s.x+s.width/2)+","+(s.y+s.height)}),this.text2.attr({text:i,transform:""}),h=this.text2.getBBox(),l=Math.min(r/h.width,o/h.height),this.text2.attr({transform:"S"+l+","+l+","+(h.x+h.width/2)+","+h.y})},e.prototype.drawEmptyDonutLabel=function(t,i,e,o,n){var r;return r=this.raphael.text(t,i,"").attr("font-size",o).attr("fill",e),null!=n&&r.attr("font-weight",n),r},e}(),i.DonutSegment=function(t){function i(t,i,e,o,n,r,s,a,h,p){this.cx=t,this.cy=i,this.inner=e,this.outer=o,this.color=s,this.backgroundColor=a,this.data=h,this.raphael=p,this.deselect=l(this.deselect,this),this.select=l(this.select,this),this.sin_p0=Math.sin(n),this.cos_p0=Math.cos(n),this.sin_p1=Math.sin(r),this.cos_p1=Math.cos(r),this.is_long=r-n>Math.PI?1:0,this.path=this.calcSegment(this.inner+3,this.inner+this.outer-5),this.selectedPath=this.calcSegment(this.inner+3,this.inner+this.outer),this.hilight=this.calcArc(this.inner)}return h(i,t),i.prototype.calcArcPoints=function(t){return[this.cx+t*this.sin_p0,this.cy+t*this.cos_p0,this.cx+t*this.sin_p1,this.cy+t*this.cos_p1]},i.prototype.calcSegment=function(t,i){var e,o,n,r,s,a,h,l,p,u;return p=this.calcArcPoints(t),e=p[0],n=p[1],o=p[2],r=p[3],u=this.calcArcPoints(i),s=u[0],h=u[1],a=u[2],l=u[3],"M"+e+","+n+("A"+t+","+t+",0,"+this.is_long+",0,"+o+","+r)+("L"+a+","+l)+("A"+i+","+i+",0,"+this.is_long+",1,"+s+","+h)+"Z"},i.prototype.calcArc=function(t){var i,e,o,n,r;return r=this.calcArcPoints(t),i=r[0],o=r[1],e=r[2],n=r[3],"M"+i+","+o+("A"+t+","+t+",0,"+this.is_long+",0,"+e+","+n)},i.prototype.render=function(){var t=this;return this.arc=this.drawDonutArc(this.hilight,this.color),this.seg=this.drawDonutSegment(this.path,this.color,this.backgroundColor,function(){return t.fire("hover",t)})},i.prototype.drawDonutArc=function(t,i){return this.raphael.path(t).attr({stroke:i,"stroke-width":2,opacity:0})},i.prototype.drawDonutSegment=function(t,i,e,o){return this.raphael.path(t).attr({fill:i,stroke:e,"stroke-width":3}).hover(o)},i.prototype.select=function(){return this.selected?void 0:(this.seg.animate({path:this.selectedPath},150,"<>"),this.arc.animate({opacity:1},150,"<>"),this.selected=!0)},i.prototype.deselect=function(){return this.selected?(this.seg.animate({path:this.path},150,"<>"),this.arc.animate({opacity:0},150,"<>"),this.selected=!1):void 0},i}(i.EventEmitter)}).call(this),e.exports=window.Morris}),define("alipay/morill/0.1.6/morill.css",[],function(){seajs.importStyle(".morris-hover{position:absolute;z-index:1000}.morris-hover.morris-default-style{border-radius:10px;padding:6px;color:#666;background:rgba(255,255,255,.8);border:solid 2px rgba(230,230,230,.8);font-family:sans-serif;font-size:12px;text-align:center}.morris-hover.morris-default-style .morris-hover-row-label{font-weight:700;margin:.25em 0}.morris-hover.morris-default-style .morris-hover-point{white-space:nowrap;margin:.1em 0}")});
